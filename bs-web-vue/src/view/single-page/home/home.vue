<template>
  <div>
    <Row :gutter="20">
      <i-col :xs="24" :md="16" :lg="8" v-for="(infor, i) in inforCardData" :key="`infor-${i}`"
             style="height: 120px;padding-bottom: 10px;">
        <infor-card shadow :color="infor.color" :icon="infor.icon" :icon-size="50">
          <count-to :end="infor.count" count-class="count-style"/>
          <p>{{ infor.title }}</p>
        </infor-card>
      </i-col>
    </Row>
<!--    <Row :gutter="20" style="margin-top: 10px;">-->
<!--      <i-col :md="24" :lg="8" style="margin-bottom: 20px;">-->
<!--        <Card shadow>-->
<!--          <chart-pie style="height: 300px;" :value="pieData" text="用户访问来源"></chart-pie>-->
<!--        </Card>-->
<!--      </i-col>-->
<!--      <i-col :md="24" :lg="16" style="margin-bottom: 20px;">-->
<!--        <Card shadow>-->
<!--          <chart-bar style="height: 300px;" :value="barData" text="每周用户活跃量"/>-->
<!--        </Card>-->
<!--      </i-col>-->
<!--    </Row>-->
    <Row :gutter="20" style="margin-top: 10px;">
      <div>
        <div style="width: 80vw;height: 70vh" id="container"></div>
      </div>
    </Row>
  </div>
</template>

<script>
import InforCard from '_c/info-card'
import CountTo from '_c/count-to'
import { ChartPie, ChartBar } from '_c/charts'
import Example from './example.vue'

export default {
  name: 'home',
  components: {
    InforCard,
    CountTo,
    ChartPie,
    ChartBar,
    Example
  },
  data () {
    return {
      inforCardData: [
        { title: 'Stations', icon: 'logo-playstation', count: 166, color: '#2d8cf0' },
        { title: 'Bikes', icon: 'md-bicycle', count: 10500, color: '#19be6b' },
        { title: 'Trucks', icon: 'md-car', count: 20, color: '#ff9900' }
      ],
      pieData: [
        { value: 335, name: '直接访问' },
        { value: 310, name: '邮件营销' },
        { value: 234, name: '联盟广告' },
        { value: 135, name: '视频广告' },
        { value: 1548, name: '搜索引擎' }
      ],
      barData: {
        Mon: 13253,
        Tue: 34235,
        Wed: 26321,
        Thu: 12340,
        Fri: 24643,
        Sat: 1322,
        Sun: 1324
      }
    }
  },
  mounted () {
    // eslint-disable-next-line no-new
    let cords = [[118.7681975, 32.04315277], [118.7714496, 32.04294809], [118.7755896, 32.04272639], [118.7773111, 32.04273206], [118.7806379, 32.04253926], [118.7829754, 32.04232509], [118.7606796, 32.04788921], [118.7636649, 32.04845834], [118.764086, 32.05131857], [118.7703239, 32.04970522], [118.7713575, 32.05187115], [118.7783109, 32.05032155], [118.7715707, 32.05501533], [118.7665674, 32.05502784], [118.7641294, 32.05533567], [118.7632431, 32.06055179], [118.7651605, 32.06031422], [118.7707136, 32.05936686], [118.7647556, 32.0596985], [118.7647587, 32.06168806], [118.7647538, 32.06264685], [118.7652928, 32.06408835], [118.7676817, 32.0634865], [118.7656158, 32.06610479], [118.7673442, 32.06752977], [118.7698987, 32.06595687], [118.7782383, 32.06516434], [118.7790235, 32.06401193], [118.784071, 32.06238954], [118.7707303, 32.07725397], [118.7695369, 32.07626083], [118.7666404, 32.06650829], [118.7781331, 32.07189997], [118.7832256, 32.0470008], [118.7648414, 32.06880848], [118.7673393, 32.05760995], [118.7696388, 32.06490723], [118.7834256, 32.05009991], [118.7642419, 32.07210797], [118.7843253, 32.05779729], [118.7732371, 32.07240349], [118.7792315, 32.06590034], [118.7815285, 32.05879982], [118.7843256, 32.06019676], [118.771437, 32.05760783], [118.7752345, 32.06040472], [118.7597373, 32.06539351], [118.7606942, 32.06549232], [118.7888972, 32.04194378], [118.7906022, 32.0447791], [118.7844831, 32.04668559], [118.7943894, 32.04169896], [118.7946043, 32.04367623], [118.7988534, 32.04134984], [118.7988186, 32.04282656], [118.7968373, 32.04877404], [118.7960975, 32.04919997], [118.7844838, 32.0542849], [118.7870358, 32.05461908], [118.7846062, 32.06023146], [118.7874566, 32.05839677], [118.7962222, 32.05826179], [118.8005322, 32.05798368], [118.8055404, 32.05788099], [118.7845113, 32.07021338], [118.7844789, 32.07645108], [118.7860367, 32.05107197], [118.7925152, 32.06323662], [118.7911167, 32.05826947], [118.7900174, 32.04991266], [118.7977071, 32.06144002], [118.7961095, 32.06025251], [118.807689, 32.05255669], [118.7964086, 32.0557231], [118.7862237, 32.06480374], [118.7864235, 32.06462356], [118.7876208, 32.05208498], [118.7874207, 32.04800612], [118.7851262, 32.07740219], [118.7666272, 32.0425516], [118.7760682, 32.04249008], [118.7769384, 32.04245142], [118.7835398, 32.04215857], [118.7891099, 32.04184155], [118.7910373, 32.04166426], [118.79529, 32.04139982], [118.7999136, 32.04112635], [118.8033887, 32.04084916], [118.7811563, 32.04108311], [118.7841619, 32.03989445], [118.7880511, 32.03976325], [118.7946629, 32.039878], [118.7762106, 32.03785202], [118.7788762, 32.03730999], [118.7837641, 32.03771134], [118.7875125, 32.03701848], [118.7896817, 32.03739587], [118.7706533, 32.03451045], [118.7772574, 32.03468592], [118.7820348, 32.03565851], [118.7897615, 32.03575615], [118.7913073, 32.03550132], [118.7933245, 32.03610162], [118.7757965, 32.03297543], [118.7766667, 32.03272183], [118.7925505, 32.0348269], [118.7921779, 32.03336971], [118.772261, 32.0309603], [118.7780533, 32.03097811], [118.7788907, 32.03222013], [118.7844907, 32.03135803], [118.7842119, 32.03052851], [118.7822601, 32.03055645], [118.7730022, 32.02854938], [118.7915104, 32.02896754], [118.7774725, 32.02711146], [118.7837812, 32.02800652], [118.7967396, 32.02784889], [118.7719387, 32.02547175], [118.782834, 32.02527809], [118.7760284, 32.02303052], [118.7772723, 32.02311354], [118.7819798, 32.02393522], [118.7822795, 32.02395793], [118.7815711, 32.02290285], [118.7815891, 32.02231396], [118.7851872, 32.02369905], [118.7870039, 32.02335315], [118.7883582, 32.0234196], [118.7927051, 32.02254649], [118.7703292, 32.01964401], [118.7696365, 32.01925447], [118.7746731, 32.01892645], [118.7785458, 32.01920639], [118.7839883, 32.02038005], [118.7861147, 32.02024784], [118.7957635, 32.02118376], [118.7979522, 32.02293331], [118.7841559, 32.01887322], [118.7903451, 32.01864333], [118.7842485, 32.01509299], [118.7886799, 32.0143683], [118.7904026, 32.01398033], [118.7945687, 32.01487781], [118.7828039, 32.01302092], [118.7930754, 32.00899112], [118.7899899, 32.03301049], [118.7801732, 32.04013522], [118.7748592, 32.03247123], [118.7996051, 32.01888385], [118.7930851, 32.0059868], [118.7837063, 32.00648653], [118.7984577, 32.01535432], [118.7729056, 32.03184269], [118.7834526, 32.01745726], [118.768837, 32.04143285], [118.7683371, 32.0395935], [118.7785293, 32.0354577], [118.7794285, 32.03622676], [118.7817238, 32.01066051], [118.8004989, 32.02161491], [118.8011129, 32.03283244], [118.7993016, 32.03003475], [118.7750324, 32.03627024]]
    const map = new AMap.Map('container', {
      resizeEnable: true,
      center: [118.765, 32.0441],
      zoom: 13
    })
    AMap.plugin([
      'AMap.ToolBar'
    ], function () {
      let toolBar = new AMap.ToolBar({
        // 简易缩放模式，默认为 false
        liteStyle: true,
        position: 'LB',
        ruler: true
      })
      // 在图面添加工具条控件，工具条控件集成了缩放、平移、定位等功能按钮在内的组合控件
      map.addControl(toolBar)
    })

    // const icon = new AMap.Icon({
    //   size: new AMap.Size(15, 15), // 图标尺寸
    //   image: 'https://lh3.googleusercontent.com/-0wBIgd6SinTr5UBVYiYu5IAqeutRRbfxCCEisIbz2frAF2dr57UBD8DfndYXP_6dnqPuI1UtKS5DQ3rveOja-GJ-z5IA0CXFPybngW4=s960', // Icon的图像
    //   imageSize: new AMap.Size(15, 10) // 根据所设置的大小拉伸或压缩图片
    // })

    for (const cord of cords) {
      const marker = new AMap.Marker({
        position: new AMap.LngLat(cord[0], cord[1]), // 经纬度对象，也可以是经纬度构成的一维数组[116.39, 39.9]
        // icon: icon
      })
      map.add(marker)
    }
  }

}
</script>

<style lang="less">
.count-style {
  font-size: 50px;
}

.amap-demo {
  height: 300px;
}
</style>
